/*
 * fsm_simple_buttons.c
 *
 *  Created on: Nov 5, 2022
 *      Author: Admin
 */
#include "fsm_simple_buttons.h"
#include "global.h"
#include "button_reading.h"
#include "led_display.h"
#include "timer.h"

enum State {INIT, RESET_0, DEC, INC, INC_1S , DEC_1S};
enum State  currentState = INIT ;
enum State  nextState = INIT;

void fsm_simple_buttons_run(){
	currentState = nextState;
	switch(currentState){
		case INIT:
		count_down();
	    if(button_flag[0]== 1){
	    	button_flag[0] = 0;
	    	nextState = RESET_0;
	    }
	    if(button_flag_pressed_3s[1] == 1){
	    	currentState = INC_1S;
	    	setTimer1(1000);
	    }
	    if(button_flag[2] == 1 ){
	    	counter--;

	    }
		case INC:
			break;
		case DEC:
		default:
			break;
	}
}

